<!DOCTYPE html>
<html>
<head>
  <title>QR Code Generator</title>
</head>
<body>
  <h1>QR Code Generator</h1>
  <input type="text" id="text" placeholder="Enter text" />
  <button onclick="generateQR()">Generate QR</button>
  <br><br>
  <img id="qr" style="display:none; max-width:300px;" />

  <script>
    const BACKEND_URL = "https://server-c17n.onrender.com";

    async function generateQR() {
      const text = document.getElementById("text").value;
      if (!text) return alert("Enter some text!");

      const response = await fetch(`${BACKEND_URL}/qr/generate`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text })
      });

      if (!response.ok) {
        alert("Error generating QR!");
        return;
      }

      const blob = await response.blob();
      const img = document.getElementById("qr");
      img.src = URL.createObjectURL(blob);
      img.style.display = "block";
    }
  </script>
</body>
</html>
